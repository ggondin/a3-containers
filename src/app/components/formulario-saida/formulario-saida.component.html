<flex class="shadow-light" alignItems="center" justify="center" width="350px">
  <ng-container *ngIf="!success">
    <flex
      [formGroup]="form"
      direction="column"
      width="100%"
      margin="20px"
      gap="15px"
    >
      <span
        >Selecione abaixo o container do qual você deseja liberar a saida.</span
      >
      <mat-form-field appearance="outline" *ngIf="containerLocal.length > 0">
        <mat-label>Selecione o container</mat-label>
        <mat-select (selectionChange)="onSelectionChange($event)">
          <mat-option
            *ngFor="let containers of containerLocal"
            [value]="containers.OS"
          >
            {{ containers.ARMADOR }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <flex justify="space-between">
        <button mat-raised-button color="primary" (click)="voltar()">
          VOLTAR
        </button>
        <button (click)="exit()" mat-raised-button color="primary">
          <mat-spinner *ngIf="loading" diameter="40"></mat-spinner>
          <span *ngIf="!loading">SELECIONAR</span>
        </button>
      </flex>
    </flex>
  </ng-container>
  <ng-container *ngIf="success === true">
    <flex
      [formGroup]="saidaEntradaForm"
      direction="column"
      gap="10px"
      margin="20px"
    >
      <span>Esse é o container que você deseja liberar!</span>
      <mat-form-field appearance="outline">
        <mat-label>Tipo</mat-label>
        <input formControlName="tipo" matInput type="number" />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>OS</mat-label>
        <input formControlName="os" matInput />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Armador</mat-label>
        <input formControlName="armador" matInput />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Data de entrada</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="data" />
        <mat-datepicker-toggle
          matIconSuffix
          [for]="picker"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Container</mat-label>
        <input formControlName="container" matInput />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Depot</mat-label>
        <input formControlName="depot" matInput />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Deposito</mat-label>
        <input formControlName="deposito" matInput />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Terminal</mat-label>
        <input formControlName="terminal" matInput />
      </mat-form-field>

      <flex justify="space-between">
        <button mat-raised-button color="primary" (click)="voltar()">
          VOLTAR
        </button>
        <button (click)="exit()" mat-raised-button color="primary">
          <mat-spinner *ngIf="loading" diameter="40"></mat-spinner>
          <span *ngIf="!loading">LIBERAR</span>
        </button>
      </flex>
    </flex>
  </ng-container>
</flex>

<!-- [disabled]="loading || cadastroEntradaForm.invalid || anyFieldEmpty()" -->
<!-- <flex direction="column" margin="20px" gap="10px">
  <span
    >Por favor, insira o CNPJ da empresa proprietária do container.
  </span>
  <mat-form-field class="form" appearance="outline">
    <mat-label>CNPJ</mat-label>
    <input
      matInput
      formControlName="cnpj"
      placeholder="Digite o CNPJ"
      (input)="applyCnpjMask($event)"
    />
    <button
      class="button2"
      mat-icon-button
      matSuffix
      aria-label="Limpar CNPJ"
      (click)="clearCnpj()"
    >
      <i class="fa fa-times"></i>
    </button>
  </mat-form-field>

  <flex justify="space-between">
    <button mat-raised-button color="primary" (click)="voltar()">
      VOLTAR
    </button>
    <button
      (click)="enviar()"
      mat-raised-button
      color="primary"
      [disabled]="
        loading || form.get('cnpj')?.invalid || !form.get('cnpj')?.value
      "
    >
      <mat-spinner *ngIf="loading" diameter="40"></mat-spinner>
      <span *ngIf="!loading">ENVIAR</span>
    </button>
  </flex>
</flex> -->
